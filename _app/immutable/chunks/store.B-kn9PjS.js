import{u as d,d as i,e as m,g,i as l,j as a,k as v,l as k,m as h,n as x,o as y,q as b,v as j}from"./runtime.vS2xcihM.js";import{s as q}from"./index.CLHmdalY.js";function A(e=!1){const s=m,t=s.l.u;if(!t)return;let n=()=>k(s.s);if(e){let o=0,r={};const _=h(()=>{let c=!1;const f=s.s;for(const u in f)f[u]!==r[u]&&(r[u]=f[u],c=!0);return c&&o++,o});n=()=>a(_)}t.b.length&&d(()=>{p(s,n),l(t.b)}),i(()=>{const o=g(()=>t.m.map(v));return()=>{for(const r of o)typeof r=="function"&&r()}}),t.a.length&&i(()=>{p(s,n),l(t.a)})}function p(e,s){if(e.l.s)for(const t of e.l.s)a(t);s()}function B(e,s,t){const n=t[s]??={store:null,source:y(void 0),unsubscribe:b};if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=b;else{var o=!0;n.unsubscribe=q(e,r=>{o?n.source.v=r:j(n.source,r)}),o=!1}return a(n.source)}function C(e,s){return e.set(s),s}function D(){const e={};return x(()=>{for(var s in e)e[s].unsubscribe()}),e}function E(e,s,t){return e.set(t),s}export{B as a,E as b,C as c,A as i,D as s};
