import{a as M,t as J}from"./disclose-version.CoWuH1YL.js";import{h as ft,p as yt,c as B,s as T,r as A,t as G,b as wt,j as u,q as U,am as pt,aI as It,m as I}from"./runtime.vS2xcihM.js";import{e as F,s as Bt,d as St}from"./render.Bu2UTpMQ.js";import{i as zt,p as W}from"./props.fMYBYDMI.js";import{r as X,s as _,b as Y,e as ht}from"./attributes.DPDQO5rQ.js";import{s as Ht}from"./style.COkIlqtv.js";import{s as $t,i as Ot,a as D}from"./store.B-kn9PjS.js";import{u as kt,_ as dt,S as Tt,h as qt,j as Lt,k as Rt,l as Dt,m as Et,n as Ft,p as Ct,o as Vt,O as Mt,q as vt,r as ut,s as Jt,t as Kt,v as ot,a as et,w as Pt,x as V,y as Ut,z as Wt,g as at,f as lt,A as Z,B as Gt,C as Qt,b as gt,D as Xt,E as Yt,d as mt,F as Zt}from"./colors.DZZTKv_W.js";function te(t,e){var n=t.__className,r=ee(e);ft&&t.className===r?t.__className=r:(n!==r||ft&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function ee(t){return t??""}function O(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const re=(t=1)=>t===1?e=>e:e=>Math.pow(e,t),ct=(t=2,e=1)=>{let n=re(e);if(t<2)return t<1?[]:[n(.5)];let r=[];for(let s=0;s<t;s++)r.push(n(s/(t-1)));return r};function ne(...t){return kt(se,t)}function se(t,e){let n={...t};for(let[r,s]of Object.entries(n))e(s,r,t)&&delete n[r];return n}function ie(t){return t==null}function oe(t){return t!==void 0}function ae(...t){return kt(le,t)}var le=(t,e)=>e.some(n=>n(t)),ce=function(t){dt(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Tt),bt={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,qt([t,e],Lt(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},ue=function(t){dt(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.pending=!1,s}return e.prototype.schedule=function(n,r){var s;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,d=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(d,o,r)),this.pending=!0,this.delay=r,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(d,this.id,r),this},e.prototype.requestAsyncId=function(n,r,s){return s===void 0&&(s=0),bt.setInterval(n.flush.bind(n,this),s)},e.prototype.recycleAsyncId=function(n,r,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return r;r!=null&&bt.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(n,r);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var s=!1,o;try{this.work(n)}catch(d){s=!0,o=d||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,s=n.scheduler,o=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Rt(o,this),r!=null&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(ce),_t=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Dt.now,t}(),de=function(t){dt(e,t);function e(n,r){r===void 0&&(r=_t.now);var s=t.call(this,n,r)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var s;this._active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,s){for(;n=r.shift();)n.unsubscribe();throw s}},e}(_t),At=new de(ue),ve=At;function fe(t){return t instanceof Date&&!isNaN(t)}function pe(){return Et(1)}function xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pe()(Ft(t,Ct(t)))}function he(t,e,n){n===void 0&&(n=ve);var r=-1;return e!=null&&(Vt(e)?n=e:r=e),new Mt(function(s){var o=fe(t)?+t-n.now():t;o<0&&(o=0);var d=0;return n.schedule(function(){s.closed||(s.next(d++),0<=r?this.schedule(void 0,r):s.complete())},o)})}function tt(t,e){return e===void 0&&(e=Jt),t=t??ge,vt(function(n,r){var s,o=!0;n.subscribe(ut(r,function(d){var m=e(d);(o||!t(s,m))&&(o=!1,s=m,r.next(d))}))})}function ge(t,e){return t===e}function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ct(t);return vt(function(r,s){(n?xt(t,r,n):xt(t,r)).subscribe(s)})}function me(t,e){return vt(function(n,r){var s=e??{},o=s.leading,d=o===void 0?!0:o,m=s.trailing,x=m===void 0?!1:m,S=!1,k=null,f=null,v=!1,q=function(){f?.unsubscribe(),f=null,x&&(z(),v&&r.complete())},K=function(){f=null,v&&r.complete()},j=function(l){return f=Kt(t(l)).subscribe(ut(r,q,K))},z=function(){if(S){S=!1;var l=k;k=null,r.next(l),!v&&j(l)}};n.subscribe(ut(r,function(l){S=!0,k=l,!(f&&!f.closed)&&(d?z():j(l))},function(){v=!0,!(x&&S&&f&&!f.closed)&&r.complete()}))})}function be(t,e,n){e===void 0&&(e=At);var r=he(t,e);return me(function(){return r},n)}var _e=J('<div class="flex items-center gap-2"><input type="number" class="w-[8ch] px2 text-sm rounded text-background outline-overlay1 py1 bg-overlay2 placeholder-foreground text-center"> <input type="range" class="svelte-19k1ta5"></div>'),xe=J('<div class="flex gap-5"><div class="grid ml-3 grid-cols-2 items-center group"><input class="h18 rounded-xl grid-row-start-1 grid-row-end-2 grid-col-end-1 grid-col-end-3 grid-col-start-1 w-full flex svelte-19k1ta5" type="color"> <div class="transition-opacity opacity-80 grid-col-start-2 z-1 grid-row-start-1 grid-row-end-2 grid-col-end-3 right-0 top-0 pointer-events-none flex justify-center items-center"><div class="i-mingcute-color-picker-line text-activeColorForeground size-8"></div></div> <div class="flex-col grid-row-start-1 grid-row-end-2 grid-col-start-1 grid-col-end-2 pointer-events-none items-center justify-center h17 font-mono text-center text-activeColorForeground rounded-r-lg outline-activeColor px2 py1 text-sm"><button class="block grow hover:bg-background/20 rounded pointer-events-auto"> </button> <input type="text" class="block max-w-8ch bg-transparent grow hover:outline-background/20 rounded cursor-text pointer-events-auto"> <button class="block grow hover:bg-background/20 rounded pointer-events-auto" aria-label="Copy to clipboard"><div class="i-mingcute-copy-3-line size-5"></div></button></div></div> <div class="flex flex-col gap-3 py3 pr-3"><div class="flex gap-3"><!> <!></div> <!></div></div>'),ye=J('<div class="bg-surface0 ani items-center gap8 outline shadow-base shadow outline-border rounded-3xl min-w-max w-max flex svelte-19k1ta5"><!></div>');function Te(t,e){yt(e,!1);const n=$t(),r=()=>D(et,"$activeColor",n),s=()=>D(at,"$activeColorHsl$",n),o=()=>D(Xt,"$activeColorHex$",n),d=()=>D(z,"$saturationBackground",n),m=()=>D(j,"$hueBackground",n),x=(i,a=U,h=U,g=U,b=U,C=U,L)=>{let N=pt(()=>It(L?.(),"10rem"));var R=_e(),w=B(R);X(w),_(w,"min",0);var $=T(w,2);X($),_($,"min",0),A(R),G(()=>{Y(w,C()),_(w,"step",h()),_(w,"max",a()),_($,"step",h()),_($,"max",a()),Y($,C()),_($,"style",`--slider-bg: linear-gradient(to right, ${g()??""});`),Ht($,"width",u(N),void 0,!0)}),F("input",w,({currentTarget:{value:E}})=>{const H=Number(E);Number.isNaN(H)||H<0||H>a()||b().next(H)}),F("input",$,({currentTarget:{value:E}})=>{const H=Number(E);b().next(H)}),M(i,R)},S=Yt("okhsl"),k=new ot,f=new ot,v=new ot;et.subscribe(()=>{k.next(void 0),f.next(void 0),v.next(void 0)});const K=Pt([k.pipe(Q(void 0),tt()),f.pipe(Q(void 0),tt()),v.pipe(Q(void 0),tt())]).pipe(V(([i,a,h])=>({h:i,s:a,l:h})),V(ne(ae([ie,Number.isNaN]))),tt((i,a)=>JSON.stringify(i)===JSON.stringify(a)),Ut()).pipe(Wt(oe)),j=at.pipe(V(i=>i?ct(64).map(a=>lt(Z(`color(--okhsl ${a*360} ${i.s??1} ${i.l??.8})`))).join(", "):void 0)),z=at.pipe(V(i=>i?ct(64).map(a=>lt(Z(`color(--okhsl ${i.h??180} ${a??1} 0.5)`))).join(", "):void 0)),l=ct(64).map(i=>lt(Z(`color(--okhsl 0 0 ${i})`))).join(", ");K.pipe(be(15)).subscribe(i=>{if(!r()){console.warn("no active color hgoj");return}Gt(Qt(a=>{a[r()]={...a[r()],...i}}))}),Ot();var c=ye(),p=B(c);zt(p,s,i=>{var a=xe(),h=B(a),g=B(h);X(g);var b=T(g,4),C=B(b),L=B(C);A(C);var N=T(C,2);X(N);var R=T(N,2);A(b),A(h);var w=T(h,2),$=B(w),E=B($);x(E,()=>1,()=>.005,()=>d()??"",()=>f,()=>s().s);var H=T(E,2);x(H,()=>1,()=>.005,()=>l,()=>v,()=>s().l),A($);var Nt=T($,2),jt=pt(()=>Math.round(s().h??0));x(Nt,()=>360,()=>1,()=>m()??"",()=>k,()=>u(jt),()=>"28rem"),A(w),A(a),G(()=>{Y(g,o()),Bt(L,r()),Y(N,o())}),F("input",g,({currentTarget:rt})=>{const P=Z(rt.value);if(!P)return;const{h:nt,s:st,l:it}=P;k.next(nt),f.next(st),v.next(it)}),F("click",C,()=>r()&&gt(r())),F("input",N,({currentTarget:{value:rt}})=>{const P=S(rt);if(!P)return;const{h:nt,s:st,l:it}=P;k.next(nt),f.next(st),v.next(it)}),F("click",R,()=>o()&&gt(o())),M(i,a)}),A(c),M(t,c),wt()}var we=(t,e)=>et.set(e()),$e=J('<button class="size-[2rem] min-w-[2rem] hover:outline-2 hover:outline outline-overlay1 active:outline-crust hover:z-2"></button>'),ke=(t,e)=>et.set(e()),Ce=J('<button class="size-[2rem] min-w-[2rem] hover:outline-2 hover:outline outline-overlay1 active:outline-rosewater hover:z-2"></button>'),Ae=J('<div><div class="grid w-fit"></div> <div class="grid w-fit"></div></div>');function qe(t,e){yt(e,!0);const n=$t(),r=()=>D(f,"$mainColors$",n),s=()=>D(k,"$neutrals$",n);let o=W(e,"vibrantsColumns",3,2),d=W(e,"neutralsColumns",3,2),m=W(e,"vibrantsRows",3,7),x=W(e,"neutralsRows",3,6),S=W(e,"class",3,"");const k=mt.pipe(V(({crust:l,mantle:y,base:c,surface0:p,surface1:i,surface2:a,overlay0:h,overlay1:g,overlay2:b,subtext0:C,subtext1:L,text:N})=>Object.entries({crust:l,mantle:y,base:c,surface0:p,surface1:i,surface2:a,overlay0:h,overlay1:g,overlay2:b,subtext0:C,subtext1:L,text:N})),Q([])),f=mt.pipe(V(({lavender:l,blue:y,sapphire:c,sky:p,teal:i,green:a,yellow:h,peach:g,maroon:b,red:C,mauve:L,pink:N,flamingo:R,rosewater:w})=>Object.entries({lavender:l,blue:y,sapphire:c,sky:p,teal:i,green:a,yellow:h,peach:g,maroon:b,red:C,mauve:L,pink:N,flamingo:R,rosewater:w})),Q([]));function v(l,y,c){const p=Math.floor(l/c),i=l%c;if(p===0){if(i===0)return"top-left";if(i===c-1)return"top-right"}else if(p===y-1){if(i===0)return"bottom-left";if(i===c-1)return"bottom-right"}}var q=Ae();const K=I(()=>Zt("gap-5 flex grow p-4 items-start max-w-max",S()));var j=B(q);ht(j,7,r,([l,y])=>l,(l,y,c)=>{let p=()=>u(y)[0];var i=$e();i.__click=[we,p];const a=I(()=>v(u(c),m(),o())==="top-left"),h=I(()=>v(u(c),m(),o())==="top-right"),g=I(()=>v(u(c),m(),o())==="bottom-left"),b=I(()=>v(u(c),m(),o())==="bottom-right");G(()=>{_(i,"aria-label",`Change color of ${p()??""}`),_(i,"style",`background: rgba(var(--${p()??""}))`),O(i,"rounded-tl-2xl",u(a)),O(i,"rounded-tr-2xl",u(h)),O(i,"rounded-bl-2xl",u(g)),O(i,"rounded-br-2xl",u(b))}),M(l,i)}),A(j);var z=T(j,2);ht(z,7,s,([l,y])=>l,(l,y,c)=>{let p=()=>u(y)[0];var i=Ce();i.__click=[ke,p];const a=I(()=>v(u(c),x(),d())==="top-left"),h=I(()=>v(u(c),x(),d())==="top-right"),g=I(()=>v(u(c),x(),d())==="bottom-left"),b=I(()=>v(u(c),x(),d())==="bottom-right");G(()=>{_(i,"aria-label",`Change color of ${p()??""}`),_(i,"style",`background: rgba(var(--${p()??""}))`),O(i,"rounded-tl-2xl",u(a)),O(i,"rounded-tr-2xl",u(h)),O(i,"rounded-bl-2xl",u(g)),O(i,"rounded-br-2xl",u(b))}),M(l,i)}),A(z),A(q),G(()=>{te(q,u(K)),_(j,"style",`grid-template-columns: repeat(${o()??""}, 1fr); grid-template-rows: repeat(${m()??""}, 1fr);`),_(z,"style",`grid-template-columns: repeat(${d()??""}, 1fr); grid-template-rows: repeat(${x()??""}, 1fr);`)}),M(t,q),wt()}St(["click"]);export{qe as C,Te as a,At as b,te as s};
